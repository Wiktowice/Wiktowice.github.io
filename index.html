<!DOCTYPE html>
<html lang="pl">
<head>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#00ff00">
<meta charset="UTF-8">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Wiktowice - Miasto na Modach. DoÅ‚Ä…cz do serwera Minecraft na modach, sprawdÅº mapÄ™, aktualnoÅ›ci, bank i nasz Discord!">
<title>Wiktowice - Miasto na Modach</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

body {
    margin: 0;
    font-family: 'Press Start 2P', monospace;
    background: url('tlo.png') no-repeat center top;
    background-size: cover;
    color: #fff;
}

a { text-decoration: none; color: inherit; }

header {
    background: linear-gradient(#6b8e23, #4b6920);
    padding: 10px 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 4px solid #654321;
    box-shadow: 0 4px 0 #3b4a14;
}
header img { height: 60px; border: 2px solid #654321; background: #8b4513; border-radius: 4px; }
nav a, .btn {
    margin-left: 10px;
    padding: 8px 12px;
    background: #8b4513;
    color: #fff;
    border: 2px solid #654321;
    border-radius: 2px;
    transition: all 0.2s;
    box-shadow: 0 3px 0 #654321;
    display: inline-block;
}
nav a:hover, .btn:hover { background: #a0522d; transform: translateY(-2px); box-shadow: 0 1px 0 #654321; }

.banner {
    position: relative;
    height: 400px;
    background: url('mapa.png') center/cover no-repeat;
    cursor: pointer;
    border-bottom: 4px solid #654321;
    display: flex;
    align-items: center;
    justify-content: center;
}
.banner-text-container {
    background: url('https://example.com/nowe-tlo.png') center/cover no-repeat;
    padding: 20px 40px;
    border-radius: 6px;
}
.banner-text { color: #fff; font-size: 24px; text-shadow: 2px 2px #000; text-align: center; }

section {
    padding: 20px;
    max-width: 1000px;
    margin: 20px auto;
    background: rgba(0,0,0,0.3);
    border: 2px solid #654321;
    border-radius: 6px;
}

.news-item {
    background: #f0f0f0;
    border: 2px solid #8b4513;
    padding: 10px;
    margin-bottom: 10px;
    color: #000;
}

.btn-mody {
    display: inline-block;
    padding: 10px 15px;
    background: #228B22;
    color: #fff;
    border: 2px solid #654321;
    border-radius: 4px;
    margin-top: 10px;
    transition: all 0.2s;
    box-shadow: 0 3px 0 #654321;
}
.btn-mody:hover {
    background: #32CD32;
    transform: translateY(-2px);
    box-shadow: 0 1px 0 #654321;
}

footer {
    background: linear-gradient(#6b8e23, #4b6920);
    text-align: center;
    padding: 10px;
    color: #fff;
    border-top: 4px solid #654321;
    box-shadow: 0 -4px 0 #3b4a14;
}

@media (max-width: 600px) {
    header { flex-direction: column; }
    nav { margin-top: 10px; }
}
</style>
</head>
<body>

<header>
    <img src="logo.png" alt="Wiktowice Logo">
    <nav>
        <a href="index.html">Strona gÅ‚Ã³wna</a>
        <a href="#o-serwerze">O serwerze</a>
        <a href="#aktualnosci">AktualnoÅ›ci</a>
        <a href="https://wiktowice.github.io/bank">Bank</a>
        <a href="https://dc.gg/Wiktowice">Discord</a>
        <a href="https://wiktowice.github.io/idea">IDEA Centertel</a>
        <a href="https://wiktowice.github.io/radio">Radio</a>
        <a href="admin.html" class="btn">ðŸ›  Panel Admina</a>
    </nav>
</header>

<div class="banner" onclick="window.location.href='https://wiktowice.falixsrv.me:35894/'">
    <div class="banner-text-container">
        <div class="banner-text">Wiktowice â€“ Miasto na Modach</div>
    </div>
</div>

<section id="o-serwerze">
    <h2>O Wiktowicach</h2>
    <p>Wiktowice to samodzielny serwer Minecraft na modach. Graj, odkrywaj, buduj i wspÃ³Å‚pracuj z innymi graczami w naszym unikalnym Å›wiecie!</p>
    <p>Kliknij w banner powyÅ¼ej, aby zobaczyÄ‡ mapÄ™ Å›wiata.</p>
<p>
Kliknij 
<span style="color:blue; text-decoration:underline; cursor:pointer;"
      onclick="
Notification.requestPermission().then(p=>{
    if(p!=='granted'){ alert('Nie wÅ‚Ä…czono powiadomieÅ„'); return; }

    // Dane newsÃ³w inline (zamiast fetch)
    const news = [
        { title: 'ae', date: '2025-10-03', content: 'ae' },
        { title: 'to jest test.', date: '2025-10-13', content: 'to jest test.' }
    ];

    // Pobieramy ostatni news
    const latest = news[news.length-1];

    // WyÅ›wietlamy powiadomienie natychmiast
    new Notification(latest.title, { body: latest.content, icon: 'favicon-32x32.png' });
})">
tutaj
</span> aby wÅ‚Ä…czyÄ‡ powiadomienia.
</p>
    <!-- Przycisk Mody -->
    <a href="https://tinyurl.com/WiktowiceMody" class="btn-mody">ðŸ“¦ Mody</a>

    <!-- Informacja o IP i Discord -->
    <p style="margin-top:15px;">
        IP serwera: <strong>wiktowice.falixsrv.me</strong><br>
        Aby doÅ‚Ä…czyÄ‡, musisz doÅ‚Ä…czyÄ‡ na naszego <a href="https://dc.gg/Wiktowice" style="color:#32CD32;">Discorda</a> i otrzymaÄ‡ dostÄ™p.
    </p>

    <!-- Link do uruchomienia serwera -->
    <p>
        Aby uruchomiÄ‡ serwer, kliknij tutaj: 
        <a href="https://falixnodes.net/startserver?ip=wiktowice.falixsrv.me" style="color:#FFD700;">Start Server na FalixNodes</a><br>
        Na stronie Falixa musisz kliknÄ…Ä‡ przycisk <strong>Start</strong> i rozwiÄ…zaÄ‡ Captcha.
    </p>
</section>

<section id="aktualnosci">
    <h2>AktualnoÅ›ci</h2>
    <div id="news-container"></div>
</section>

<footer>
    &copy; 2025 Wiktowice. Wszystkie prawa zastrzeÅ¼one.
</footer>

<script>
  // Funkcja wysyÅ‚ajÄ…ca powiadomienia
  function wyslijPowiadomienie(tresc, tytul="Powiadomienie") {
      if (!("Notification" in window)) return;

      if (Notification.permission === "granted") {
          new Notification(tytul, { body: tresc, icon: "favicon-32x32.png" });
      }
  }

  // Funkcja wywoÅ‚ywana po klikniÄ™ciu w tekst
  function requestNotification() {
      if (!("Notification" in window)) {
          alert("Twoja przeglÄ…darka nie wspiera powiadomieÅ„.");
          return;
      }

      Notification.requestPermission().then(permission => {
          if (permission === "granted") {
              alert("Powiadomienia wÅ‚Ä…czone! ðŸŽ‰");

              // Testowe powiadomienie od razu
              wyslijPowiadomienie("Witaj na Wiktowicach!", "Wiktowice");

              // Tutaj moÅ¼esz uruchomiÄ‡ funkcjÄ™ sprawdzajÄ…cÄ… news.json
              // sprawdzNoweNews();
              // setInterval(sprawdzNoweNews, 30000);
          } else {
              alert("Nie wÅ‚Ä…czono powiadomieÅ„.");
          }
      });
  }
// Zmienna do przechowywania ostatniego newsu
let ostatniNews = null;

// Funkcja sprawdzajÄ…ca nowe wiadomoÅ›ci
function sprawdzNoweNews() {
    fetch('https://wiktowice.github.io/news.json')
        .then(res => {
            if (!res.ok) throw new Error("Nie moÅ¼na wczytaÄ‡ news.json");
            return res.json();
        })
        .then(data => {
            if (!Array.isArray(data) || data.length === 0) return;
            const latest = data[data.length - 1]; // bierzemy najnowszy news
            // PorÃ³wnujemy po title i content
            if (!ostatniNews || ostatniNews.title !== latest.title || ostatniNews.content !== latest.content) {
                ostatniNews = latest;
                wyslijPowiadomienie(latest.content, latest.title);
            }
        })
        .catch(err => console.error(err));
}

// Sprawdzaj co 30 sekund (moÅ¼esz zmieniÄ‡ interwaÅ‚)
setInterval(sprawdzNoweNews, 30000);
fetch('https://wiktowice.github.io/news.json')
.then(response => response.json())
.then(data => {
    const container = document.getElementById('news-container');
    data.forEach(item => {
        const div = document.createElement('div');
        div.className = 'news-item';
        div.innerHTML = `<strong>${item.title}</strong> <em>(${item.date})</em><p>${item.content}</p>`;
        container.appendChild(div);
    });
})
.catch(err => {
    document.getElementById('news-container').innerHTML = '<p>Brak aktualnoÅ›ci lub bÅ‚Ä…d Å‚adowania JSON.</p>';
});
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js')
    .then(() => console.log('Service Worker zarejestrowany'))
    .catch(e => console.error('BÅ‚Ä…d rejestracji SW:', e));
}
</script>
</body>
</html>

